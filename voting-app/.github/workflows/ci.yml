name: IntegraciÃ³n Continua (CI)

on:
  # Se dispara en pushes a cualquier rama que NO sea main
  push:
    branches-ignore:
      - 'main'
  # TambiÃ©n en Pull Requests hacia main
  pull_request:
    branches:
      - 'main'

jobs:
  tests-y-build:
    runs-on: ubuntu-latest # Este job puede correr en un runner de GitHub

    steps:
    - name: ğŸ“¥ Clonar el cÃ³digo
      uses: actions/checkout@v4

    - name: ğŸ Simular tests para 'vote' (Python)
      run: echo "âœ… Tests de Python para 'vote' pasaron."

    - name: ğŸ“¦ Simular tests para 'result' (Node.js)
      run: echo "âœ… Tests de Node.js para 'result' pasaron."

    - name: ğŸ§  Simular tests para 'worker' (Node.js)
      run: echo "âœ… Tests de Node.js para 'worker' pasaron."

    - name: ğŸ³ Construir imÃ¡genes Docker con Docker Compose
      # Este paso verifica que todos los Dockerfiles son vÃ¡lidos y construyen las imÃ¡genes
      run: docker-compose build
